{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-8681af5c411a3cf0.js","src/js/state.js","node_modules/@parcel/runtime-js/lib/runtime-3b0955e2d6996043.js","src/js/refs.js","src/js/createPagination.js","src/js/renderFn.js","src/js/services.js","src/index.js","src/js/handlers.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"BDmrC\\\":\\\"index.a402a400.js\\\",\\\"hmfaf\\\":\\\"sprite.34e24702.svg\\\",\\\"5NJCH\\\":\\\"index.f53300ee.css\\\"}\"));","const itemsPerPage = 20;\nconst items = 20000;\nconst totalPages = Math.ceil(items / itemsPerPage);\nexport const state = {\n  currentPage: 1,\n  totalPages: totalPages,\n  sprite: new URL('../img/sprite.svg', import.meta.url),\n};\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hmfaf\")).toString();","export const refs = {\n  pagination: document.querySelector('.pagination'),\n};\n","export const paginate = (totalPages, currentPage) => {\n  const groupSize = 5;\n  const numGroups = Math.ceil(totalPages / groupSize);\n  const currentGroup = Math.ceil(currentPage / groupSize);\n  const startPage = (currentGroup - 1) * groupSize + 1;\n  const endPage = Math.min(startPage + groupSize - 1, totalPages);\n\n  const pages = Array.from(\n    { length: endPage - startPage + 1 },\n    (_, i) => startPage + i\n  );\n\n  const hasPrevGroup = currentGroup > 1;\n  const hasNextGroup = currentGroup < numGroups;\n  return {\n    pages,\n    hasPrevGroup,\n    hasNextGroup,\n  };\n};\n","import { state } from './state';\nimport { paginate } from './createPagination';\nimport { refs } from './refs';\nconst { pagination } = refs;\n\nexport const paginationMarkup = () => {\n  const { pages, hasPrevGroup, hasNextGroup } = paginate(\n    state.totalPages,\n    state.currentPage\n  );\n  const firstPage = `<button type=\"button\" class=\"start-btn page-btn\">1</button>`;\n  const lastPage = `<button type=\"button\" class=\"end-btn page-btn\">${state.totalPages}</button>`;\n  const prev = `<button type=\"button\" class=\"prev-btn page-btn\"><svg class=\"icon icon-arrow-left\">\n    <use xlink:href=\"${state.sprite}#icon-arrow-left\"></use>\n  </svg></button>`;\n  const next = `<button type=\"button\" class=\"next-btn page-btn\"><svg class=\"icon icon-arrow-right\">\n    <use xlink:href=\"${state.sprite}#icon-arrow-right\"></use>\n  </svg></button>`;\n  const dotsBtnPrev = `<button class=\"page-btn prev-dots\">...</button>`;\n  const dotsBtnNext = `<button class=\"page-btn next-dots\">...</button>`;\n  const btnPages = pages\n    .map(num => {\n      const isActive = num === state.currentPage ? 'active-page' : '';\n      return `<button type=\"button\" class=\"page-btn ${isActive}\n        \">${num}</button>`;\n    })\n    .join('');\n\n  const leftGroup = hasPrevGroup ? prev + firstPage + dotsBtnPrev : '';\n  const rightGroup = hasNextGroup ? dotsBtnNext + lastPage + next : '';\n  return leftGroup + btnPages + rightGroup;\n};\n\nexport const renderMarkup = markup => {\n  pagination.insertAdjacentHTML('beforeend', markup);\n};\n","import { state } from './state';\nimport { refs } from './refs';\nimport { paginate } from './createPagination';\nimport { renderMarkup, paginationMarkup } from './renderFn';\nconst { pagination } = refs;\n// let { currentPage, totalPages } = state;\n\nexport const clearHTML = () => {\n  pagination.innerHTML = '';\n};\nexport const updateCurrentPage = newPage => {\n  state.currentPage = newPage;\n  clearHTML();\n  renderMarkup(paginationMarkup());\n};\nexport const goToNextPage = () => {\n  updateCurrentPage(state.currentPage + 1);\n};\nexport const goToPrevPage = () => {\n  updateCurrentPage(state.currentPage - 1);\n};\nexport const goToNextGroupBtn = () => {\n  const { pages } = paginate(state.totalPages, state.currentPage);\n  const lastPageOfCurrentGroup = pages[pages.length - 1];\n  const newPage = Math.min(lastPageOfCurrentGroup + 1, state.totalPages);\n  currentPage = pages[pages.length - 1] + 1;\n  updateCurrentPage(newPage);\n};\nexport const goToPrevGroupBtn = () => {\n  const { pages } = paginate(state.totalPages, state.currentPage);\n  const firstPageOfCurrentGroup = pages[0];\n  const newPage = Math.max(firstPageOfCurrentGroup - 1, 1);\n  updateCurrentPage(newPage);\n};\nexport const changePageByClick = evt => {\n  const activeBtn = document.querySelector('.active-page');\n  const selectedPage = Number(evt.target.textContent) || state.currentPage;\n  if (selectedPage === state.currentPage) return;\n\n  updateCurrentPage(selectedPage);\n  activeBtn.classList.remove('active-page');\n  evt.target.classList.add('active-page');\n};\n","import 'modern-normalize';\nimport './index.css';\nimport { onBtnPageClick } from './js/handlers';\nimport { refs } from './js/refs';\nimport { paginationMarkup, renderMarkup } from './js/renderFn';\nimport { state } from './js/state';\nconst { pagination } = refs;\n\npagination.addEventListener('click', onBtnPageClick);\nrenderMarkup(paginationMarkup(state.currentPage));\n","import {\n  goToNextGroupBtn,\n  goToNextPage,\n  goToPrevPage,\n  goToPrevGroupBtn,\n  changePageByClick,\n} from './services';\nimport { state } from './state';\n\nexport const onBtnPageClick = evt => {\n  if (evt.target.nodeName !== 'BUTTON') return;\n  if (Number(evt.target.textContent) === state.currentPage) return;\n  if (evt.target.classList.contains('next-btn')) goToNextPage();\n  if (evt.target.classList.contains('prev-btn')) goToPrevPage();\n  if (evt.target.classList.contains('next-dots')) goToNextGroupBtn();\n  if (evt.target.classList.contains('prev-dots')) goToPrevGroupBtn();\n  changePageByClick(evt);\n  console.log(`current-page: ${state.currentPage}`);\n};\n"],"names":["$b49ba41aa6ff6887$export$6503ec6e8aabbaf","$b49ba41aa6ff6887$export$f7ad0328861e2f03","$b49ba41aa6ff6887$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$104e8f472d3bb214$var$totalPages","Math","ceil","$104e8f472d3bb214$var$items","$aeb29ab3c509f6d7$exports","URL","resolve","import","meta","url","toString","$104e8f472d3bb214$export$ca000e230c0caa3e","currentPage","totalPages","sprite","$e01e3a68a312c322$export$21666b427502ea6d","pagination","document","querySelector","$9a6348b9ffd5b575$export$6f8f11629dd8afb7","numGroups","currentGroup","startPage","endPage","min","Array","from","_","$ba30dbecdffd22c0$var$pagination","$ba30dbecdffd22c0$export$a88ca8237831132f","pages","hasPrevGroup","hasNextGroup","lastPage","next","prev","map","num","join","$ba30dbecdffd22c0$export$add40575555c273c","markup","insertAdjacentHTML","$0f882b7162203ddc$var$pagination","$0f882b7162203ddc$export$f93edae441a67c30","newPage","innerHTML","$0f882b7162203ddc$export$fc8d824d864fa336","lastPageOfCurrentGroup","$0f882b7162203ddc$export$4c12d0dc4440296","firstPageOfCurrentGroup","max","$0f882b7162203ddc$export$581a0594e878264f","evt","activeBtn","selectedPage","Number","target","textContent","classList","remove","add","$68896c2b141be762$var$pagination","addEventListener","nodeName","contains","console","log"],"version":3,"file":"index.a402a400.js.map"}