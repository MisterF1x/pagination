{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-049925afe75808ef.js","src/js/state.js","node_modules/@parcel/runtime-js/lib/runtime-d344630d1c58ee77.js","src/js/refs.js","src/js/createPagination.js","src/js/renderFn.js","src/js/services.js","src/index.js","src/js/handlers.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7Ghkd\\\":\\\"index.1b3570a1.js\\\",\\\"l7Bfc\\\":\\\"sprite.34e24702.svg\\\",\\\"5NJCH\\\":\\\"index.f53300ee.css\\\"}\"));","const itemsPerPage = 20;\nconst items = 20000;\nconst totalPages = Math.ceil(items / itemsPerPage);\nexport const state = {\n  currentPage: 1,\n  totalPages: totalPages,\n  sprite: new URL('../img/sprite.svg', import.meta.url),\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('7Ghkd') + require('./helpers/bundle-manifest').resolve(\"l7Bfc\");","export const refs = {\n  pagination: document.querySelector('.pagination'),\n};\n","export const paginate = (totalPages, currentPage) => {\n  const groupSize = 5;\n  const numGroups = Math.ceil(totalPages / groupSize);\n  const currentGroup = Math.ceil(currentPage / groupSize);\n  const startPage = (currentGroup - 1) * groupSize + 1;\n  const endPage = Math.min(startPage + groupSize - 1, totalPages);\n\n  const pages = Array.from(\n    { length: endPage - startPage + 1 },\n    (_, i) => startPage + i\n  );\n\n  const hasPrevGroup = currentGroup > 1;\n  const hasNextGroup = currentGroup < numGroups;\n  return {\n    pages,\n    hasPrevGroup,\n    hasNextGroup,\n  };\n};\n","import { state } from './state';\nimport { paginate } from './createPagination';\nimport { refs } from './refs';\nconst { pagination } = refs;\n\nexport const paginationMarkup = () => {\n  const { pages, hasPrevGroup, hasNextGroup } = paginate(\n    state.totalPages,\n    state.currentPage\n  );\n  const firstPage = `<button type=\"button\" class=\"start-btn page-btn\">1</button>`;\n  const lastPage = `<button type=\"button\" class=\"end-btn page-btn\">${state.totalPages}</button>`;\n  const prev = `<button type=\"button\" class=\"prev-btn page-btn\"><svg class=\"icon icon-arrow-left\">\n    <use xlink:href=\"${state.sprite}#icon-arrow-left\"></use>\n  </svg></button>`;\n  const next = `<button type=\"button\" class=\"next-btn page-btn\"><svg class=\"icon icon-arrow-right\">\n    <use xlink:href=\"${state.sprite}#icon-arrow-right\"></use>\n  </svg></button>`;\n  const dotsBtnPrev = `<button class=\"page-btn prev-dots\">...</button>`;\n  const dotsBtnNext = `<button class=\"page-btn next-dots\">...</button>`;\n  const btnPages = pages\n    .map(num => {\n      const isActive = num === state.currentPage ? 'active-page' : '';\n      return `<button type=\"button\" class=\"page-btn ${isActive}\n        \">${num}</button>`;\n    })\n    .join('');\n\n  const leftGroup = hasPrevGroup ? prev + firstPage + dotsBtnPrev : '';\n  const rightGroup = hasNextGroup ? dotsBtnNext + lastPage + next : '';\n  return leftGroup + btnPages + rightGroup;\n};\n\nexport const renderMarkup = markup => {\n  pagination.insertAdjacentHTML('beforeend', markup);\n};\n","import { state } from './state';\nimport { refs } from './refs';\nimport { paginate } from './createPagination';\nimport { renderMarkup, paginationMarkup } from './renderFn';\nconst { pagination } = refs;\n// let { currentPage, totalPages } = state;\n\nexport const clearHTML = () => {\n  pagination.innerHTML = '';\n};\nexport const updateCurrentPage = newPage => {\n  state.currentPage = newPage;\n  clearHTML();\n  renderMarkup(paginationMarkup());\n};\nexport const goToNextPage = () => {\n  updateCurrentPage(state.currentPage + 1);\n};\nexport const goToPrevPage = () => {\n  updateCurrentPage(state.currentPage - 1);\n};\nexport const goToNextGroupBtn = () => {\n  const { pages } = paginate(state.totalPages, state.currentPage);\n  const lastPageOfCurrentGroup = pages[pages.length - 1];\n  const newPage = Math.min(lastPageOfCurrentGroup + 1, state.totalPages);\n  currentPage = pages[pages.length - 1] + 1;\n  updateCurrentPage(newPage);\n};\nexport const goToPrevGroupBtn = () => {\n  const { pages } = paginate(state.totalPages, state.currentPage);\n  const firstPageOfCurrentGroup = pages[0];\n  const newPage = Math.max(firstPageOfCurrentGroup - 1, 1);\n  updateCurrentPage(newPage);\n};\nexport const changePageByClick = evt => {\n  const activeBtn = document.querySelector('.active-page');\n  const selectedPage = Number(evt.target.textContent) || state.currentPage;\n  if (selectedPage === state.currentPage) return;\n\n  updateCurrentPage(selectedPage);\n  activeBtn.classList.remove('active-page');\n  evt.target.classList.add('active-page');\n};\n","import 'modern-normalize';\nimport './index.css';\nimport { onBtnPageClick } from './js/handlers';\nimport { refs } from './js/refs';\nimport { paginationMarkup, renderMarkup } from './js/renderFn';\nimport { state } from './js/state';\nconst { pagination } = refs;\n\npagination.addEventListener('click', onBtnPageClick);\nrenderMarkup(paginationMarkup(state.currentPage));\n","import {\n  goToNextGroupBtn,\n  goToNextPage,\n  goToPrevPage,\n  goToPrevGroupBtn,\n  changePageByClick,\n} from './services';\nimport { state } from './state';\n\nexport const onBtnPageClick = evt => {\n  if (evt.target.nodeName !== 'BUTTON') return;\n  if (Number(evt.target.textContent) === state.currentPage) return;\n  if (evt.target.classList.contains('next-btn')) goToNextPage();\n  if (evt.target.classList.contains('prev-btn')) goToPrevPage();\n  if (evt.target.classList.contains('next-dots')) goToNextGroupBtn();\n  if (evt.target.classList.contains('prev-dots')) goToPrevGroupBtn();\n  changePageByClick(evt);\n  console.log(`current-page: ${state.currentPage}`);\n};\n"],"names":["$037ca903df6e54e1$export$6503ec6e8aabbaf","$037ca903df6e54e1$export$f7ad0328861e2f03","$037ca903df6e54e1$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$ca694de7f3e289ee$export$bdfd709ae4826697","$ca694de7f3e289ee$var$bundleURL","$ca694de7f3e289ee$var$getBaseURL","url","replace","value","err","matches","stack","match","$ca694de7f3e289ee$var$getBundleURL","parcelRequire","register","JSON","parse","$4b71ab6b039bb11c$var$totalPages","Math","ceil","$4b71ab6b039bb11c$var$items","$d34383864d56a744$exports","getBundleURL","resolve","$4b71ab6b039bb11c$export$ca000e230c0caa3e","currentPage","totalPages","sprite","URL","$05f4da91aad2177d$export$21666b427502ea6d","pagination","document","querySelector","$90560de2e6e0fae7$export$6f8f11629dd8afb7","numGroups","currentGroup","startPage","endPage","min","pages","Array","from","_","hasPrevGroup","hasNextGroup","$c3a1f89d4eabdbb7$var$pagination","$c3a1f89d4eabdbb7$export$a88ca8237831132f","_paginate","lastPage","concat","prev","next","map","num","join","$c3a1f89d4eabdbb7$export$add40575555c273c","markup","insertAdjacentHTML","$c126958fc31a791c$var$pagination","$c126958fc31a791c$export$f93edae441a67c30","newPage","innerHTML","$c126958fc31a791c$export$4c12d0dc4440296","firstPageOfCurrentGroup","max","$c126958fc31a791c$export$581a0594e878264f","evt","activeBtn","selectedPage","Number","target","textContent","classList","remove","add","addEventListener","lastPageOfCurrentGroup","nodeName","contains","console","log"],"version":3,"file":"index.1b3570a1.js.map"}